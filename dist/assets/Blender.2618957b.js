import{G as R,D,P as A,O as T,e as B,S as F,f as z,b as G,M as y,s as _,W as j,R as S,g as k,N,L as O,h as W,i as q,j as U,k as H}from"./dat.gui.module.4e896d59.js";import{D as $,G as V,g as X}from"./index.20c40af9.js";import{_ as Y}from"./index.1bbe095d.js";import{l as Z,B as J,C as K,o as Q,e as ee,F as ae,D as ne,E as te,f as h}from"./vendor.a9b44f4b.js";const b=d=>(ne("data-v-836a12fc"),d=d(),te(),d),oe=b(()=>h("canvas",{class:"webgl"},null,-1)),ie=b(()=>h("div",{id:"progressDiv",class:"w-full bg-gray-200 h-2 mb-6 absolute top-1/2"},[h("div",{id:"progress",class:"transition-all duration-200 ease-in-out bg-main-active h-2 w-{{progressRatio}}"})],-1)),se={setup(d){let p,s,e,l,c,t,m=Z(0);const a={width:window.innerWidth,height:window.innerHeight},u=()=>{t.traverse(i=>{i instanceof y&&i.material instanceof U&&(i.material.envMapIntensity=p.envMapIntensity,i.material.needsUpdate=!0,i.castShadow=!0,i.receiveShadow=!0)})},n=new R;n.closed=!0,p={},p.envMapIntensity=5,n.add(p,"envMapIntensity").min(0).max(10).step(.001).onChange(u);const o=new D("#ffffff",3);o.position.set(-13,22.4,14.8),o.castShadow=!0,o.shadow.camera.far=15,o.shadow.mapSize.set(1024,1024),n.add(o,"intensity").min(0).max(10).step(.001).name("lightIntensity"),n.add(o.position,"x").min(-50).max(50).step(.001).name("lightX"),n.add(o.position,"y").min(-50).max(50).step(.001).name("lightY"),n.add(o.position,"z").min(-50).max(50).step(.001).name("lightZ"),s=new A(75,a.width/a.height,.1,100),s.position.set(0,1,7),J(()=>{n.destroy()}),K(()=>{c=document.querySelector("canvas.webgl");const i=document.querySelector("#progress"),v=document.querySelector("#progressDiv");l=new T(s,c),l.enableDamping=!0;const C=new H(()=>{window.setTimeout(()=>{X.to(f.uniforms.uAlpha,{duration:3,value:0}),v.style.visibility="hidden"},500)},(r,E,I)=>{m.value=E/I*100,i.style.width=`${m.value}%`,console.log(m.value)}),M=new $;M.setDecoderPath("/draco/");const x=new V(C);x.setDRACOLoader(M);const g=new B().load(["/textures/environmentMaps/4/px.png","/textures/environmentMaps/4/nx.png","/textures/environmentMaps/4/py.png","/textures/environmentMaps/4/ny.png","/textures/environmentMaps/4/pz.png","/textures/environmentMaps/4/nz.png"]);x.load("/models/DSPEC_jr/DSPEC_jr.gltf",r=>{r.scene.scale.set(1.5,1.5,1.5),r.scene.position.set(0,-2,0),r.scene.rotation.y=Math.PI*.25,t.add(r.scene),n.add(r.scene.rotation,"y").min(-Math.PI).max(Math.PI).step(.001).name("rotation"),u()}),t=new F,t.add(o),t.add(s);const L=new z(2,2,1,1),f=new G({transparent:!0,uniforms:{uAlpha:{value:1}},vertexShader:`

    void main(){
        gl_Position = vec4(position, 1.0);
        
    }`,fragmentShader:`
    uniform float uAlpha;

    void main(){
        gl_FragColor = vec4(0.0, 0.0, 0.0, uAlpha);
    }`}),P=new y(L,f);t.add(P),g.encoding=_,t.background=g,t.environment=g,e=new j({canvas:c,antialias:!0}),e.setSize(a.width,a.height),e.setPixelRatio(window.devicePixelRatio),e.physicallyCorrectLights=!0,e.outputEncoding=_,e.toneMapping=S,e.toneMappingExposure=3,e.shadowMap.enabled=!0,e.shadowMap.type=k,n.add(e,"toneMapping",{No:N,Linear:O,Reinhard:S,Cineon:W,ACESFilmic:q}).onFinishChange(()=>{e.toneMapping=Number(e.toneMapping),u()}),n.add(e,"toneMappingExposure").min(0).max(10).step(.001),w()});const w=()=>{l.update(),e.render(t,s),window.requestAnimationFrame(w)};return window.addEventListener("resize",()=>{a.width=window.innerWidth,a.height=window.innerHeight,s.aspect=a.width/a.height,s.updateProjectionMatrix(),e.setSize(a.width,a.height),e.setPixelRatio(Math.min(window.devicePixelRatio,2))}),(i,v)=>(Q(),ee(ae,null,[oe,ie],64))}};var me=Y(se,[["__scopeId","data-v-836a12fc"]]);export{me as default};
